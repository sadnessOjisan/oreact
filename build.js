!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){var t={},o=[],r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function l(e,n){for(var t in n)e[t]=n[t];return e}function i(e,n,t){var o,r,l={};for(r in n)"key"==r?o=n[r]:l[r]=n[r];if(arguments.length>3){if(t=[t],!Array.isArray(t))throw new Error;for(r=3;r<arguments.length;r++)t.push(arguments[r])}if(null!=t&&(l.children=t),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===l[r]&&(l[r]=e.defaultProps[r]);return u(e,l,o,void 0,null)}function u(e,n,t,o,r){var l={type:e,props:n,key:t,ref:o,_children:null,_parent:null,_depth:0,_dom:null,_nextDom:void 0,_component:null,_hydrating:null,constructor:void 0,_original:r};return null==r&&(l._original=l),l}function a(e){return e.children}function c(e){this.props=e}function d(e,n){if(null==n)return e._parent?d(e._parent,e._parent._children.indexOf(e)+1):null;for(var t;n<e._children.length;n++)if(null!=(t=e._children[n])&&null!=t._dom)return t._dom;return"function"==typeof e.type?d(e,void 0):null}function s(e){var n=e._vnode,t=n._dom,o=e._parentDom;if(o){var r=[],i=l({},n);i._original=i;var u=g({parentDom:o,newVNode:n,oldVNode:i,excessDomChildren:null,commitQueue:r,oldDom:null==t?d(n,void 0):t});x(r),u!=t&&function e(n){if(null!=(n=n._parent)&&null!=n._component){n._dom=n._component.base=null;for(var t=0;t<n._children.length;t++){var o=n._children[t];if(null!=o&&null!=o._dom){n._dom=n._component.base=o._dom;break}}return e(n)}}(n)}}c.prototype.setState=function(e){var n;n=null!=this._nextState&&this._nextState!==this.state?this._nextState:this._nextState=l({},this.state),e&&l(n,e),null!=e&&this._vnode&&(!this._dirty&&(this._dirty=!0)&&p.push(this)&&m._rerenderCount++,f(m))},c.prototype.render=a;var p=[],f="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout;function m(){for(var e;m._rerenderCount=p.length;)e=p.sort((function(e,n){return e._vnode._depth-n._vnode._depth})),p=[],e.some((function(e){e._dirty&&s(e)}))}function h(e){var n,r,l,i,c,s,p,f=e.parentDom,m=e.renderResult,h=e.newParentVNode,y=e.oldParentVNode,v=e.excessDomChildren,b=e.commitQueue,D=y&&y._children||o,x=D.length;for(e.oldDom==t&&(p=x?d(y,0):null),h._children=[],n=0;n<m.length;n++)if(null!=(i=h._children[n]=null==(i=m[n])||"boolean"==typeof i?null:"string"==typeof i||"number"==typeof i?u(null,i,null,null,i):Array.isArray(i)?u(a,{children:i},null,null,null):null!=i._dom||null!=i._component?u(i.type,i.props,i.key,null,i._original):i)){if(i._parent=h,i._depth=h._depth+1,null===(l=D[n])||l&&i.key==l.key&&i.type===l.type)D[n]=void 0;else for(r=0;r<x;r++){if((l=D[r])&&i.key==l.key&&i.type===l.type){D[r]=void 0;break}l=null}null!=(c=g({parentDom:f,newVNode:i,oldVNode:l=l||t,excessDomChildren:v,commitQueue:b,oldDom:p}))&&(null==s&&(s=c),p=_({parentDom:f,childVNode:i,oldVNode:l,oldChildren:D,excessDomChildren:v,newDom:c,oldDom:p}),"function"==typeof h.type&&(h._nextDom=p))}for(h._dom=s,n=x;n--;)null!=D[n]&&j(D[n],D[n])}function _(e){var n,t=e.parentDom,o=e.childVNode,r=e.oldVNode,l=e.oldChildren,i=e.excessDomChildren,u=e.newDom,a=e.oldDom;if(void 0!==o._nextDom)n=o._nextDom,o._nextDom=void 0;else if(i==r||u!=a||null==u.parentNode)e:if(null==a||a.parentNode!==t)t.appendChild(u),n=null;else{if(!Array.isArray(l))throw new Error("配列であるべき");for(var c=a,d=0;(c=c.nextSibling)&&d<l.length;d+=2)if(c==u)break e;t.insertBefore(u,a),n=a}return void 0!==n?n:u.nextSibling}function y(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||r.test(n)?t:t+"px"}function v(e,n,t,o){var r,l,i;if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(n in o)t&&n in t||y(e.style,n,"");if(t)for(n in t)o&&t[n]===o[n]||y(e.style,n,t[n])}else"o"===n[0]&&"n"===n[1]?(r=n!==(n=n.replace(/Capture$/,"")),(l=n.toLowerCase())in e&&(n=l),n=n.slice(2),e._listeners||(e._listeners={}),e._listeners[n+r]=t,i=r?D:b,t?o||e.addEventListener(n,i,r):e.removeEventListener(n,i,r)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&"size"!==n&&"download"!==n&&"href"!==n&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&e.setAttribute(n,t)}function b(e){this._listeners[e.type+!1](e)}function D(e){this._listeners[e.type+!0](e)}function g(e){console.log("diff",arguments);var n,o=e.parentDom,r=e.newVNode,l=e.oldVNode,i=e.excessDomChildren,u=e.commitQueue,d=e.oldDom,s=r.type;if(void 0!==r.constructor)return null;if("function"==typeof s){var p,f,m,_=r.props,y=t;l._component?p=r._component=l._component:("prototype"in s&&s.prototype.render?r._component=p=new s(_):(r._component=p=new c(_),p.constructor=s,p.render=C),p.props=_,p.state||(p.state={}),f=p._dirty=!0,p._renderCallbacks=[]),null==p._nextState&&(p._nextState=p.state),m=p.props,f?null!=p.componentDidMount&&p._renderCallbacks.push(p.componentDidMount):null==s.getDerivedStateFromProps&&_!==m&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(_,y),p.props=_,p.state=p._nextState,p._dirty=!1,p._vnode=r,p._parentDom=o,n=p.render(p.props),p.state=p._nextState;var v=null!=n&&n.type==a&&null==n.key,b=v?n.props.children:n;h({parentDom:o,renderResult:Array.isArray(b)?b:[b],newParentVNode:r,oldParentVNode:l,excessDomChildren:i,commitQueue:u,oldDom:d}),p.base=r._dom,r._hydrating=null,p._renderCallbacks.length&&u.push(p),p._force=!1}else null==i&&r._original===l._original?(r._children=l._children,r._dom=l._dom):r._dom=O({dom:l._dom,newVNode:r,oldVNode:l,excessDomChildren:i,commitQueue:u});return r._dom}function x(e){e.some((function(n){e=n._renderCallbacks,n._renderCallbacks=[],e.some((function(e){e.call(n)}))}))}function O(e){var n,o=e.dom,r=e.newVNode,l=e.oldVNode,i=e.excessDomChildren,u=e.commitQueue,a=l.props,c=r.props;if(null==o){if(null===r.type){var d=String(c);return document.createTextNode(d)}o=document.createElement(r.type,c.is&&{is:c.is}),i=null}return null===r.type?a!==c&&o.data!==c&&(o.data=c):(function(e,n,t){var o;for(o in t)"children"===o||"key"===o||o in n||v(e,o,null,t[o]);for(o in n)"children"!==o&&"key"!==o&&"value"!==o&&"checked"!==o&&t[o]!==n[o]&&v(e,o,n[o],t[o])}(o,c,l.props||t),n=r.props.children,h({parentDom:o,renderResult:Array.isArray(n)?n:[n],newParentVNode:r,oldParentVNode:l,excessDomChildren:i,commitQueue:u,oldDom:t})),o}function j(e,n,t){var o,r,l,i;if(t||"function"==typeof e.type||(t=null!=(r=e._dom)),e._dom=e._nextDom=void 0,null!=(o=e._component)&&(o.componentWillUnmount&&o.componentWillUnmount(),o.base=o._parentDom=null),o=e._children)for(var u=0;u<o.length;u++)o[u]&&j(o[u],n,t);null!=r&&(i=(l=r).parentNode)&&i.removeChild(l)}function C(e){return this.constructor(e)}m._rerenderCount=0,n.Component=c,n.h=i,n.render=function(e,n){var r=i(a,null,[e]),l=[];n._children=r,g({parentDom:n,newVNode:r,oldVNode:t,excessDomChildren:o.slice.call(n.childNodes),commitQueue:l,oldDom:t}),x(l)}},function(e,n,t){"use strict";t.r(n);var o,r=t(0),l=(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=function(){return(i=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},u=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var o=Array(e),r=0;for(n=0;n<t;n++)for(var l=arguments[n],i=0,u=l.length;i<u;i++,r++)o[r]=l[i];return o},a=function(e){function n(){return this.state={count:1e7,data:[]},this}return l(n,e),n.prototype.componentDidMount=function(){this.setState(i(i({},this.state),{count:0,data:[{name:"taro"},{name:"hanako"}]}))},n.prototype.componentWillReceiveProps=function(e){console.log("next.props:",e.props)},n.prototype.render=function(){var e=this;return Object(r.h)("div",{style:{color:"blue"}},Object(r.h)("section",null,Object(r.h)("h1",null,"counting area"),Object(r.h)("span",null,"count: "),Object(r.h)("span",null,this.state.count),Object(r.h)("button",{onClick:function(){return e.setState(i(i({},e.state),{count:e.state.count+1}))}},"add")),Object(r.h)("section",null,Object(r.h)("h1",null,"user data area"),Object(r.h)("ul",null,this.state.data.map((function(n,t){return Object(r.h)(c,{name:n.name,handleDelete:function(){e.setState(i(i({},e.state),{data:e.state.data.filter((function(e,n){return t!==n}))}))}})}))),Object(r.h)("form",{onSubmit:function(n){n.preventDefault();var t=n.target.name.value;e.setState(i(i({},e.state),{data:u(e.state.data,[{name:t}])}))}},Object(r.h)("input",{name:"name"}),Object(r.h)("button",{type:"submit"},"add"))))},n}(r.Component),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return l(n,e),n.prototype.componentWillReceiveProps=function(e,n){console.log("next.props:",e),console.log("next.props:",n)},n.prototype.render=function(){var e=this;return Object(r.h)("li",null,Object(r.h)("span",null,this.props.name),Object(r.h)("button",{onClick:function(){return e.props.handleDelete()}},"delete"))},n}(r.Component);Object(r.render)(Object(r.h)(a,null,null),document.body)}]);